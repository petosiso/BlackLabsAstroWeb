---
// Splide config
import "@splidejs/splide/css";
import { SplideExtension, SplideSlide } from "astro-splide";
import type { Options } from "@splidejs/splide";

const options: Options = {
  type: "loop",
  drag: "free",
  focus: "center",
  perPage: 4,
  autoScroll: {
    speed: 0.3,
  },
  breakpoints: {
    768: { perPage: 1 },
    1024: { perPage: 3 },
  },
};

import { imgUrls } from "./imgUrls";
---

<SplideExtension class="not-content" options={options}>
  {
    imgUrls.map((url) => (
      <SplideSlide>
        <div class="carousel-slide">
          <img src={url} alt="carousel image" />
        </div>
      </SplideSlide>
    ))
  }
</SplideExtension>

<script>
  import { AutoScroll } from "@splidejs/splide-extension-auto-scroll";
  import { initSplideExtension } from "astro-splide/js/splideExtensionUtils";
  initSplideExtension({ AutoScroll });
</script>

<style>
  /* jednotná veľkosť náhľadov */
  .carousel-slide {
    width: 280px;   /* môžeš prispôsobiť */
    height: 180px;  /* pomer strán napr. 16:10 */
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .carousel-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;   /* oreže a vyplní */
    border-radius: 0.5rem;
    transition: filter 0.3s ease, transform 0.3s ease;
    filter: grayscale(100%) brightness(0.7);
  }

  /* aktívny obrázok v strede */
  .splide__slide.is-active img {
    filter: grayscale(0%) brightness(1);
    transform: scale(1.05);
  }
</style>
